{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://kaiord.dev/schema/workout.json",
  "title": "Workout Schema",
  "description": "Workout structure for KRD extensions.workout field",
  "$ref": "#/definitions/Workout",
  "definitions": {
    "Workout": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "sport": {
          "type": "string"
        },
        "subSport": {
          "type": "string"
        },
        "poolLength": {
          "type": "number",
          "exclusiveMinimum": 0
        },
        "poolLengthUnit": {
          "type": "string",
          "const": "meters"
        },
        "steps": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "stepIndex": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "name": {
                    "type": "string"
                  },
                  "durationType": {
                    "type": "string",
                    "enum": [
                      "time",
                      "distance",
                      "heart_rate_less_than",
                      "repeat_until_heart_rate_greater_than",
                      "calories",
                      "power_less_than",
                      "power_greater_than",
                      "repeat_until_time",
                      "repeat_until_distance",
                      "repeat_until_calories",
                      "repeat_until_heart_rate_less_than",
                      "repeat_until_power_less_than",
                      "repeat_until_power_greater_than",
                      "open"
                    ]
                  },
                  "duration": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "time"
                          },
                          "seconds": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "seconds"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "distance"
                          },
                          "meters": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "meters"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "heart_rate_less_than"
                          },
                          "bpm": {
                            "type": "integer",
                            "exclusiveMinimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "bpm"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_heart_rate_greater_than"
                          },
                          "bpm": {
                            "type": "integer",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "bpm",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "calories"
                          },
                          "calories": {
                            "type": "integer",
                            "exclusiveMinimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "calories"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "power_less_than"
                          },
                          "watts": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "watts"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "power_greater_than"
                          },
                          "watts": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "watts"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_time"
                          },
                          "seconds": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "seconds",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_distance"
                          },
                          "meters": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "meters",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_calories"
                          },
                          "calories": {
                            "type": "integer",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "calories",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_heart_rate_less_than"
                          },
                          "bpm": {
                            "type": "integer",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "bpm",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_power_less_than"
                          },
                          "watts": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "watts",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "repeat_until_power_greater_than"
                          },
                          "watts": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          },
                          "repeatFrom": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "type",
                          "watts",
                          "repeatFrom"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "open"
                          }
                        },
                        "required": [
                          "type"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  },
                  "targetType": {
                    "type": "string",
                    "enum": [
                      "power",
                      "heart_rate",
                      "cadence",
                      "pace",
                      "stroke_type",
                      "open"
                    ]
                  },
                  "target": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "power"
                          },
                          "value": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "watts"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "percent_ftp"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "zone"
                                  },
                                  "value": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "maximum": 7
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "range"
                                  },
                                  "min": {
                                    "type": "number"
                                  },
                                  "max": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "min",
                                  "max"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        },
                        "required": [
                          "type",
                          "value"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "heart_rate"
                          },
                          "value": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "bpm"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "zone"
                                  },
                                  "value": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "maximum": 5
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "percent_max"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "range"
                                  },
                                  "min": {
                                    "type": "number"
                                  },
                                  "max": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "min",
                                  "max"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        },
                        "required": [
                          "type",
                          "value"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "cadence"
                          },
                          "value": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "rpm"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "range"
                                  },
                                  "min": {
                                    "type": "number"
                                  },
                                  "max": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "min",
                                  "max"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        },
                        "required": [
                          "type",
                          "value"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "pace"
                          },
                          "value": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "mps"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "zone"
                                  },
                                  "value": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "maximum": 5
                                  }
                                },
                                "required": [
                                  "unit",
                                  "value"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "unit": {
                                    "type": "string",
                                    "const": "range"
                                  },
                                  "min": {
                                    "type": "number"
                                  },
                                  "max": {
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "unit",
                                  "min",
                                  "max"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        },
                        "required": [
                          "type",
                          "value"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "stroke_type"
                          },
                          "value": {
                            "type": "object",
                            "properties": {
                              "unit": {
                                "type": "string",
                                "const": "swim_stroke"
                              },
                              "value": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 5
                              }
                            },
                            "required": [
                              "unit",
                              "value"
                            ],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "type",
                          "value"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "const": "open"
                          }
                        },
                        "required": [
                          "type"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  },
                  "intensity": {
                    "type": "string",
                    "enum": [
                      "warmup",
                      "active",
                      "cooldown",
                      "rest",
                      "recovery",
                      "interval",
                      "other"
                    ]
                  },
                  "notes": {
                    "type": "string",
                    "maxLength": 256
                  },
                  "equipment": {
                    "type": "string",
                    "enum": [
                      "none",
                      "swim_fins",
                      "swim_kickboard",
                      "swim_paddles",
                      "swim_pull_buoy",
                      "swim_snorkel"
                    ]
                  }
                },
                "required": [
                  "stepIndex",
                  "durationType",
                  "duration",
                  "targetType",
                  "target"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "repeatCount": {
                    "type": "integer",
                    "minimum": 2
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "stepIndex": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "name": {
                          "type": "string"
                        },
                        "durationType": {
                          "type": "string",
                          "enum": [
                            "time",
                            "distance",
                            "heart_rate_less_than",
                            "repeat_until_heart_rate_greater_than",
                            "calories",
                            "power_less_than",
                            "power_greater_than",
                            "repeat_until_time",
                            "repeat_until_distance",
                            "repeat_until_calories",
                            "repeat_until_heart_rate_less_than",
                            "repeat_until_power_less_than",
                            "repeat_until_power_greater_than",
                            "open"
                          ]
                        },
                        "duration": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "time"
                                },
                                "seconds": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "seconds"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "distance"
                                },
                                "meters": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "meters"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "heart_rate_less_than"
                                },
                                "bpm": {
                                  "type": "integer",
                                  "exclusiveMinimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "bpm"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_heart_rate_greater_than"
                                },
                                "bpm": {
                                  "type": "integer",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "bpm",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "calories"
                                },
                                "calories": {
                                  "type": "integer",
                                  "exclusiveMinimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "calories"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "power_less_than"
                                },
                                "watts": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "watts"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "power_greater_than"
                                },
                                "watts": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "watts"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_time"
                                },
                                "seconds": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "seconds",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_distance"
                                },
                                "meters": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "meters",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_calories"
                                },
                                "calories": {
                                  "type": "integer",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "calories",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_heart_rate_less_than"
                                },
                                "bpm": {
                                  "type": "integer",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "bpm",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_power_less_than"
                                },
                                "watts": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "watts",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "repeat_until_power_greater_than"
                                },
                                "watts": {
                                  "type": "number",
                                  "exclusiveMinimum": 0
                                },
                                "repeatFrom": {
                                  "type": "integer",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "type",
                                "watts",
                                "repeatFrom"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "open"
                                }
                              },
                              "required": [
                                "type"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        },
                        "targetType": {
                          "type": "string",
                          "enum": [
                            "power",
                            "heart_rate",
                            "cadence",
                            "pace",
                            "stroke_type",
                            "open"
                          ]
                        },
                        "target": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "power"
                                },
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "watts"
                                        },
                                        "value": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "percent_ftp"
                                        },
                                        "value": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "zone"
                                        },
                                        "value": {
                                          "type": "integer",
                                          "minimum": 1,
                                          "maximum": 7
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "range"
                                        },
                                        "min": {
                                          "type": "number"
                                        },
                                        "max": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "min",
                                        "max"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "value"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "heart_rate"
                                },
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "bpm"
                                        },
                                        "value": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "zone"
                                        },
                                        "value": {
                                          "type": "integer",
                                          "minimum": 1,
                                          "maximum": 5
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "percent_max"
                                        },
                                        "value": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "range"
                                        },
                                        "min": {
                                          "type": "number"
                                        },
                                        "max": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "min",
                                        "max"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "value"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "cadence"
                                },
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "rpm"
                                        },
                                        "value": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "range"
                                        },
                                        "min": {
                                          "type": "number"
                                        },
                                        "max": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "min",
                                        "max"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "value"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "pace"
                                },
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "mps"
                                        },
                                        "value": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "zone"
                                        },
                                        "value": {
                                          "type": "integer",
                                          "minimum": 1,
                                          "maximum": 5
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "value"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "unit": {
                                          "type": "string",
                                          "const": "range"
                                        },
                                        "min": {
                                          "type": "number"
                                        },
                                        "max": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "unit",
                                        "min",
                                        "max"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "value"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "stroke_type"
                                },
                                "value": {
                                  "type": "object",
                                  "properties": {
                                    "unit": {
                                      "type": "string",
                                      "const": "swim_stroke"
                                    },
                                    "value": {
                                      "type": "integer",
                                      "minimum": 0,
                                      "maximum": 5
                                    }
                                  },
                                  "required": [
                                    "unit",
                                    "value"
                                  ],
                                  "additionalProperties": false
                                }
                              },
                              "required": [
                                "type",
                                "value"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "const": "open"
                                }
                              },
                              "required": [
                                "type"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        },
                        "intensity": {
                          "type": "string",
                          "enum": [
                            "warmup",
                            "active",
                            "cooldown",
                            "rest",
                            "recovery",
                            "interval",
                            "other"
                          ]
                        },
                        "notes": {
                          "type": "string",
                          "maxLength": 256
                        },
                        "equipment": {
                          "type": "string",
                          "enum": [
                            "none",
                            "swim_fins",
                            "swim_kickboard",
                            "swim_paddles",
                            "swim_pull_buoy",
                            "swim_snorkel"
                          ]
                        }
                      },
                      "required": [
                        "stepIndex",
                        "durationType",
                        "duration",
                        "targetType",
                        "target"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "required": [
                  "repeatCount",
                  "steps"
                ],
                "additionalProperties": false
              }
            ]
          }
        }
      },
      "required": [
        "sport",
        "steps"
      ],
      "additionalProperties": false
    }
  }
}